<div class="hero-section text-center py-5 mb-5">
    <div class="container">
        <h1 class="display-4 fw-bold text-primary mb-3">
            <i class="fas fa-tasks me-3"></i>
            Gerenciador de Tarefas
        </h1>
        <p class="lead text-muted mb-4">
            Organize suas atividades de forma simples e eficiente
        </p>
        <div class="d-flex justify-content-center gap-3">
            <a href="/tasks" class="btn btn-primary btn-lg">
                <i class="fas fa-list me-2"></i>
                Ver Tarefas
            </a>
            <a href="/tasks/create" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-plus me-2"></i>
                Nova Tarefa
            </a>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm">
            <div class="card-body text-center">
                <div class="display-1 text-primary mb-3">
                    <i class="fas fa-plus-circle"></i>
                </div>
                <h5 class="card-title">Criar Tarefas</h5>
                <p class="card-text">
                    Adicione novas tarefas com título, descrição e categoria para manter-se organizado.
                </p>
                <a href="/tasks/create" class="btn btn-primary">
                    Começar Agora
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm">
            <div class="card-body text-center">
                <div class="display-1 text-success mb-3">
                    <i class="fas fa-list-check"></i>
                </div>
                <h5 class="card-title">Gerenciar Status</h5>
                <p class="card-text">
                    Acompanhe o progresso das suas tarefas: pendente, em andamento e concluída.
                </p>
                <a href="/tasks" class="btn btn-success">
                    Ver Tarefas
                </a>
            </div>
        </div>
    </div>
    
    <div class="col-md-4 mb-4">
        <div class="card h-100 shadow-sm">
            <div class="card-body text-center">
                <div class="display-1 text-warning mb-3">
                    <i class="fas fa-tags"></i>
                </div>
                <h5 class="card-title">Organizar por Categoria</h5>
                <p class="card-text">
                    Filtre e organize suas tarefas por categorias para melhor produtividade.
                </p>
                <a href="/tasks" class="btn btn-warning">
                    Explorar
                </a>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-12">
        <div class="alert alert-info">
            <h5 class="alert-heading">
                <i class="fas fa-info-circle me-2"></i>
                Como usar o sistema
            </h5>
            <hr>
            <p class="mb-2"><strong>1. Criar Tarefa:</strong> Clique em "Nova Tarefa" para adicionar uma nova atividade</p>
            <p class="mb-2"><strong>2. Gerenciar:</strong> Use os botões na lista de tarefas para editar, alterar status ou excluir</p>
            <p class="mb-0"><strong>3. Filtrar:</strong> Use os filtros por status e categoria para encontrar tarefas específicas</p>
        </div>
    </div>
</div>

<script>
// Carregar estatísticas das tarefas
document.addEventListener('DOMContentLoaded', async function() {
    try {
        const response = await fetch('/tasks/api');
        if (response.ok) {
            const tasks = await response.json();
            updateStats(tasks);
        }
    } catch (error) {
        console.error('Erro ao carregar estatísticas:', error);
    }
});

function updateStats(tasks) {
    const totalTasks = tasks.length;
    const completedTasks = tasks.filter(task => task.status === 'concluida').length;
    const pendingTasks = tasks.filter(task => task.status === 'pendente').length;
    const inProgressTasks = tasks.filter(task => task.status === 'em_andamento').length;
    
    // Criar seção de estatísticas se não existir
    if (!document.getElementById('stats-section')) {
        const statsHtml = `
            <div id="stats-section" class="row mt-4">
                <div class="col-12">
                    <h4 class="text-center mb-4">Suas Estatísticas</h4>
                </div>
                <div class="col-md-3 text-center">
                    <div class="card bg-primary text-white">
                        <div class="card-body">
                            <h2 id="total-count">${totalTasks}</h2>
                            <p class="mb-0">Total</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="card bg-secondary text-white">
                        <div class="card-body">
                            <h2 id="pending-count">${pendingTasks}</h2>
                            <p class="mb-0">Pendentes</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="card bg-warning text-white">
                        <div class="card-body">
                            <h2 id="progress-count">${inProgressTasks}</h2>
                            <p class="mb-0">Em Andamento</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 text-center">
                    <div class="card bg-success text-white">
                        <div class="card-body">
                            <h2 id="completed-count">${completedTasks}</h2>
                            <p class="mb-0">Concluídas</p>
                        </div>
                    </div>
                </div>
            </div>
        `;
        
        document.querySelector('.container > .row:last-child').insertAdjacentHTML('afterend', statsHtml);
    }
}
</script>